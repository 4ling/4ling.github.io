<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
	  body {
	    overflow:hidden;
	  }
      div{
	
	    height:720PX;
	    width:1280PX;
	    text-align:center;
	    border:0px solid silver;
	    display: table-cell;
	    vertical-align:middle;
	    color:#FFFFFF;
	    background-color:#000000;
	    font-weight:bold;
	    font-family:Verdana, Geneva, sans-serif;
	    font-size:140px;
	}
    </style>
    <title>onedown</title>
  </head>
  <body>
	<DIV id="message">used <br> heartbeats  <HR NOSHADE SIZE=1> <td style="vertical-align:top"> remaining <br> heartbeats</td></DIV>
    
  
	<script type="text/javascript" src="//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js"></script>
	<script type="text/javascript">	
		window.onload = function() {
		cast.receiver.logger.setLevelValue(0);
        	window.castReceiverManager = cast.receiver.CastReceiverManager.getInstance();
		
		        castReceiverManager.onReady = function(event) {
          console.log('Received Ready event: ' + JSON.stringify(event.data));
          window.castReceiverManager.setApplicationState("Application status is ready...");
        };
		
			
		
			
		castReceiverManager.onSenderDisconnected = function(event) {
       		if (window.castReceiverManager.getSenders().length == 0) {
	        window.close();
	     	}
        	};
		
		window.messageBus =
          	window.castReceiverManager.getCastMessageBus('urn:x-cast:countdowndata');
		window.messageBus.onMessage = function(event) {
          	displayText(event.data);
        	}
                window.castReceiverManager.start({statusText: "Application is starting"});
		};
	
			
			
		function displayText(text) {
       		document.getElementById("message").innerHTML=text;
        	window.castReceiverManager.setApplicationState(text);
     		};
			
			
	</script>
	
	</body>
</html>
